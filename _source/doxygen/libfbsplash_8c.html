<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>splashutils: libfbsplash.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">splashutils&#160;<span id="projectnumber">1.5</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>libfbsplash.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;termios.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/ioctl.h&gt;</code><br/>
<code>#include &lt;sys/mount.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &quot;common.h&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a724db0d55adda6a70d1cfc6ea6815c80">MNT_DETACH</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#abcf5427e96a1cbddd2709bb0e1f00f46">FBSPLASH_TMPDIR</a>&#160;&#160;&#160;FBSPLASH_DIR&quot;/tmp&quot;</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfbspl__cfg__t.html">fbspl_cfg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a44f906a8793ed8bb61dd3cd40c77a530">fbsplash_lib_init</a> (<a class="el" href="fbsplash_8h.html#abd0c289c439f6c3ff0f9bf08b00fa53c">fbspl_type_t</a> type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#ac4ab1f54cecb0a20e936fce2feccbed9">fbsplash_lib_cleanup</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a74753d2ab3ee880ec4f6310b6551c46f">fbsplash_parse_kcmdline</a> (bool sysmsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#ab93ba632a0715b1f949f5751c4d5ae55">fbsplash_set_verbose</a> (int old_tty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a44abf54ca0294234f56fde171b2c52a1">fbsplash_is_silent</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a1cc46c7c759f9d2f7d324b9ceea5e22b">fbsplash_get_res</a> (const char *theme, int *xres, int *yres)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a903885c98e43cfa15ab074ee84807061">fbsplash_acc_theme_set</a> (const char *theme)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a9189faf8cc2150c7d824200da8adc51c">fbsplash_acc_message_set</a> (const char *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#acbd155adb9e776774091cd87ca92c6e5">fbsplash_acc_xservice_set</a> (const char *service)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a5765eb58ef1d7f1d60d96696ecefa193">fbsplash_set_silent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a3c61c1b87875e8d8dbef863ff4d1ba8d">fbsplash_cache_prep</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a3d024be51cf8d16779f6102adba2011b">fbsplash_cache_cleanup</a> (char **profile_save)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a3584f25f033147ae2e60243ae17f3066">fbsplash_check_daemon</a> (int *pid_daemon)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a384dcd5218c881f7018ed2225d0c3b10">fbsplash_check_sanity</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#aaea9447f2377c10d6fc4095b9f6809f1">fbsplash_set_evdev</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a5ae47154483c485ede90ce296ea2774f">fbsplash_profile</a> (const char *fmt,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#a498dfb3d3d1df6670ae772a909574b12">fbsplash_send</a> (const char *fmt,...)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfbspl__cfg__t.html">fbspl_cfg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="abcf5427e96a1cbddd2709bb0e1f00f46"></a><!-- doxytag: member="libfbsplash.c::FBSPLASH_TMPDIR" ref="abcf5427e96a1cbddd2709bb0e1f00f46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FBSPLASH_TMPDIR&#160;&#160;&#160;FBSPLASH_DIR&quot;/tmp&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a3d024be51cf8d16779f6102adba2011b">fbsplash_cache_cleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="a724db0d55adda6a70d1cfc6ea6815c80"></a><!-- doxytag: member="libfbsplash.c::MNT_DETACH" ref="a724db0d55adda6a70d1cfc6ea6815c80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MNT_DETACH&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a3d024be51cf8d16779f6102adba2011b">fbsplash_cache_cleanup()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9189faf8cc2150c7d824200da8adc51c"></a><!-- doxytag: member="libfbsplash.c::fbsplash_acc_message_set" ref="a9189faf8cc2150c7d824200da8adc51c" args="(const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplash_acc_message_set </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accessor function for config.message</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The new message setting. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structfbspl__cfg__t.html#a6650f3929a67027215a94d018ebc40a9">fbspl_cfg_t::message</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#a74753d2ab3ee880ec4f6310b6551c46f">fbsplash_parse_kcmdline()</a>, and <a class="el" href="fbsplash_8h.html#af5a827703ff58cd95529d9c93d2ba7e0">fbsplashr_message_set()</a>.</p>

</div>
</div>
<a class="anchor" id="a903885c98e43cfa15ab074ee84807061"></a><!-- doxytag: member="libfbsplash.c::fbsplash_acc_theme_set" ref="a903885c98e43cfa15ab074ee84807061" args="(const char *theme)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplash_acc_theme_set </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>theme</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accessor function for config.theme</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>The new theme setting. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structfbspl__cfg__t.html#a93d99ab917b30a3bf0e8f9f4c5209875">fbspl_cfg_t::theme</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#a74753d2ab3ee880ec4f6310b6551c46f">fbsplash_parse_kcmdline()</a>.</p>

</div>
</div>
<a class="anchor" id="acbd155adb9e776774091cd87ca92c6e5"></a><!-- doxytag: member="libfbsplash.c::fbsplash_acc_xservice_set" ref="acbd155adb9e776774091cd87ca92c6e5" args="(const char *service)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplash_acc_xservice_set </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accessor function for config.xservice</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service</td><td>The name of the new X service. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structfbspl__cfg__t.html#a230632f5e7bc11e66875e1d48bbf001c">fbspl_cfg_t::xservice</a>.</p>

</div>
</div>
<a class="anchor" id="a3d024be51cf8d16779f6102adba2011b"></a><!-- doxytag: member="libfbsplash.c::fbsplash_cache_cleanup" ref="a3d024be51cf8d16779f6102adba2011b" args="(char **profile_save)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_cache_cleanup </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>profile_save</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clean the splash cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">profile_save</td><td>A strlist of files that should be saved to the hdd if profiling is enabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the splash cache was cleaned, a negative value in case of an error. </dd></dl>

<p>References <a class="el" href="fbsplash_8h.html#a58bf5e62761ad7c9ffeee7c92e10d790">FBSPLASH_CACHEDIR</a>, <a class="el" href="libfbsplash_8c.html#abcf5427e96a1cbddd2709bb0e1f00f46">FBSPLASH_TMPDIR</a>, <a class="el" href="libfbsplash_8c.html#a724db0d55adda6a70d1cfc6ea6815c80">MNT_DETACH</a>, and <a class="el" href="structfbspl__cfg__t.html#ac67e5833cd50c1ca265ca10962e44779">fbspl_cfg_t::profile</a>.</p>

</div>
</div>
<a class="anchor" id="a3c61c1b87875e8d8dbef863ff4d1ba8d"></a><!-- doxytag: member="libfbsplash.c::fbsplash_cache_prep" ref="a3c61c1b87875e8d8dbef863ff4d1ba8d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_cache_prep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prepare a writable splash cache.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 in case of a failure. </dd></dl>

<p>References <a class="el" href="fbsplash_8h.html#a58bf5e62761ad7c9ffeee7c92e10d790">FBSPLASH_CACHEDIR</a>.</p>

</div>
</div>
<a class="anchor" id="a3584f25f033147ae2e60243ae17f3066"></a><!-- doxytag: member="libfbsplash.c::fbsplash_check_daemon" ref="a3584f25f033147ae2e60243ae17f3066" args="(int *pid_daemon)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_check_daemon </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pid_daemon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check that the splash daemon is running.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid_daemon</td><td>Will be set to the PID of the splash daemon if it is found to be running.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the splash daemon is running, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="fbsplash_8h.html#a5ccfbc22f18e8ec706b7ade78072014e">FBSPLASH_PIDFILE</a>.</p>

</div>
</div>
<a class="anchor" id="a384dcd5218c881f7018ed2225d0c3b10"></a><!-- doxytag: member="libfbsplash.c::fbsplash_check_sanity" ref="a384dcd5218c881f7018ed2225d0c3b10" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_check_sanity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform sanity checks to make sure that it's safe to start the splash daemon.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if it's OK to start the daemon, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="structfbspl__cfg__t.html#aabccdef100684ca83324ab828f188d65">fbspl_cfg_t::insane</a>.</p>

</div>
</div>
<a class="anchor" id="a1cc46c7c759f9d2f7d324b9ceea5e22b"></a><!-- doxytag: member="libfbsplash.c::fbsplash_get_res" ref="a1cc46c7c759f9d2f7d324b9ceea5e22b" args="(const char *theme, int *xres, int *yres)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplash_get_res </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>xres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>yres</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the resolution that the splash screen will use.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme name. </td></tr>
    <tr><td class="paramname">xres</td><td>Preferred horizontal resolution (e.g. fb_var.xres). </td></tr>
    <tr><td class="paramname">yres</td><td>Preferred vertical resolution (e.g. fb_var.yres).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The resolution that the splash will use is saved in xres and yres. If an error is encountered, xres and yres will be set to 0. </dd></dl>

<p>References <a class="el" href="fbsplash_8h.html#a9f97a1f214b59a6ddb9e9282438cb662">FBSPL_THEME_DIR</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#aad04ede6c603c86f8e1e747f188b445c">fbsplashr_theme_load()</a>.</p>

</div>
</div>
<a class="anchor" id="a44abf54ca0294234f56fde171b2c52a1"></a><!-- doxytag: member="libfbsplash.c::fbsplash_is_silent" ref="a44abf54ca0294234f56fde171b2c52a1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fbsplash_is_silent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check whether the silent splash screen is being displayed.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the silent splash is displayed, false otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="ac4ab1f54cecb0a20e936fce2feccbed9"></a><!-- doxytag: member="libfbsplash.c::fbsplash_lib_cleanup" ref="ac4ab1f54cecb0a20e936fce2feccbed9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_lib_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clean up after splash_lib_init() and subsequent calls to any libsplash routines. </p>

<p>References <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a>, <a class="el" href="structfbspl__cfg__t.html#a6650f3929a67027215a94d018ebc40a9">fbspl_cfg_t::message</a>, <a class="el" href="structfbspl__cfg__t.html#a93d99ab917b30a3bf0e8f9f4c5209875">fbspl_cfg_t::theme</a>, and <a class="el" href="structfbspl__cfg__t.html#a230632f5e7bc11e66875e1d48bbf001c">fbspl_cfg_t::xservice</a>.</p>

</div>
</div>
<a class="anchor" id="a44f906a8793ed8bb61dd3cd40c77a530"></a><!-- doxytag: member="libfbsplash.c::fbsplash_lib_init" ref="a44f906a8793ed8bb61dd3cd40c77a530" args="(fbspl_type_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfbspl__cfg__t.html">fbspl_cfg_t</a>* fbsplash_lib_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fbsplash_8h.html#abd0c289c439f6c3ff0f9bf08b00fa53c">fbspl_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Init the splash library.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>One of: spl_undef, spl_bootup, spl_reboot, spl_shutdown </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to a config structure used by all routines in libsplash. You should not attempt to free this pointer. If a fbsplash_acc_* function exists to set a members of this config structure, use it instead of setting the member directly. </dd></dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, and <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a>.</p>

</div>
</div>
<a class="anchor" id="a74753d2ab3ee880ec4f6310b6551c46f"></a><!-- doxytag: member="libfbsplash.c::fbsplash_parse_kcmdline" ref="a74753d2ab3ee880ec4f6310b6551c46f" args="(bool sysmsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_parse_kcmdline </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sysmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parse the kernel command line to get splash settings and save them in 'config'.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sysmsg</td><td>If true, the command line will be scanned for the BOOT_MSG splash message override. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command line was parsed correctly, a negative value if there was an error. </dd></dl>

<p>References <a class="el" href="structfbspl__cfg__t.html#a80033e9686443091f19e308fbf10a301">fbspl_cfg_t::effects</a>, <a class="el" href="fbsplash_8h.html#a2ddda5c96bb41e1d90f55bea0b2a6164">FBSPL_EFF_FADEIN</a>, <a class="el" href="fbsplash_8h.html#a339b21bc7cba6be326ce78a228b61ab7">FBSPL_EFF_FADEOUT</a>, <a class="el" href="fbsplash_8h.html#a26174883f5b155a198f7a6b6e81fadb2">FBSPL_MODE_OFF</a>, <a class="el" href="fbsplash_8h.html#acdaa446a6d89197b5612a10f87a6284f">FBSPL_MODE_SILENT</a>, <a class="el" href="fbsplash_8h.html#a12ece9159f0153bdbb4951377b2259c2">FBSPL_MODE_VERBOSE</a>, <a class="el" href="libfbsplash_8c.html#a9189faf8cc2150c7d824200da8adc51c">fbsplash_acc_message_set()</a>, <a class="el" href="libfbsplash_8c.html#a903885c98e43cfa15ab074ee84807061">fbsplash_acc_theme_set()</a>, <a class="el" href="structfbspl__cfg__t.html#aabccdef100684ca83324ab828f188d65">fbspl_cfg_t::insane</a>, <a class="el" href="structfbspl__cfg__t.html#a636a295fac9ca5300a7f62e695e0f6e1">fbspl_cfg_t::kdmode</a>, <a class="el" href="structfbspl__cfg__t.html#ac67e5833cd50c1ca265ca10962e44779">fbspl_cfg_t::profile</a>, <a class="el" href="structfbspl__cfg__t.html#a3096d649092bd94ba52690bfacccfde4">fbspl_cfg_t::reqmode</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="a5ae47154483c485ede90ce296ea2774f"></a><!-- doxytag: member="libfbsplash.c::fbsplash_profile" ref="a5ae47154483c485ede90ce296ea2774f" args="(const char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_profile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save splash profiling data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt</td><td>Format of the data to be saved (printf style). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="fbsplash_8h.html#a340e15470938437764b8d3c8c7b049c8">FBSPLASH_PROFILE</a>, and <a class="el" href="structfbspl__cfg__t.html#ac67e5833cd50c1ca265ca10962e44779">fbspl_cfg_t::profile</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#a498dfb3d3d1df6670ae772a909574b12">fbsplash_send()</a>.</p>

</div>
</div>
<a class="anchor" id="a498dfb3d3d1df6670ae772a909574b12"></a><!-- doxytag: member="libfbsplash.c::fbsplash_send" ref="a498dfb3d3d1df6670ae772a909574b12" args="(const char *fmt,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send stuff to the splash daemon using the splash FIFO.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fmt</td><td>Format of the data to be sent (printf style). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="fbsplash_8h.html#aa24d617ed0b37100f240c62fe281ed09">FBSPLASH_FIFO</a>, and <a class="el" href="libfbsplash_8c.html#a5ae47154483c485ede90ce296ea2774f">fbsplash_profile()</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#aaea9447f2377c10d6fc4095b9f6809f1">fbsplash_set_evdev()</a>, and <a class="el" href="fbsplash_8h.html#a8f613607512314edeb1c1cea30e48f39">fbsplash_set_silent()</a>.</p>

</div>
</div>
<a class="anchor" id="aaea9447f2377c10d6fc4095b9f6809f1"></a><!-- doxytag: member="libfbsplash.c::fbsplash_set_evdev" ref="aaea9447f2377c10d6fc4095b9f6809f1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_set_evdev </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Try to set the event device for the splash daemon.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if an appropriate event device has been found, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplash_8c.html#a498dfb3d3d1df6670ae772a909574b12">fbsplash_send()</a>.</p>

</div>
</div>
<a class="anchor" id="a5765eb58ef1d7f1d60d96696ecefa193"></a><!-- doxytag: member="libfbsplash.c::fbsplash_set_silent" ref="a5765eb58ef1d7f1d60d96696ecefa193" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_set_silent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Switch to silent mode.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Previous tty if successful, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplash_8c.html#a498dfb3d3d1df6670ae772a909574b12">fbsplash_send()</a>, <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="ab93ba632a0715b1f949f5751c4d5ae55"></a><!-- doxytag: member="libfbsplash.c::fbsplash_set_verbose" ref="ab93ba632a0715b1f949f5751c4d5ae55" args="(int old_tty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplash_set_verbose </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_tty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Switch to verbose mode.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">old_tty</td><td>If larger than 0, switch to old_tty instead of the verbose tty defined by config.tty_v. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a>, and <a class="el" href="structfbspl__cfg__t.html#a79a52891d489ee4302e939353a1bcfaa">fbspl_cfg_t::tty_v</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="adb73d26edf280e0b235a85ef93463942"></a><!-- doxytag: member="libfbsplash.c::config" ref="adb73d26edf280e0b235a85ef93463942" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfbspl__cfg__t.html">fbspl_cfg_t</a> <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a44f906a8793ed8bb61dd3cd40c77a530">fbsplash_lib_init()</a>, <a class="el" href="fbsplash_8h.html#a61998d2e31596fe9448fc212e1d9d565">fbsplashr_init()</a>, <a class="el" href="fbsplash_8h.html#af5a827703ff58cd95529d9c93d2ba7e0">fbsplashr_message_set()</a>, <a class="el" href="fbsplash_8h.html#a0cfd5957cff10f7d5f781fc4c3727457">fbsplashr_progress_set()</a>, <a class="el" href="fbsplash_8h.html#aad04ede6c603c86f8e1e747f188b445c">fbsplashr_theme_load()</a>, <a class="el" href="fbsplash_8h.html#a4861918d50f2d3a520937482680f9eeb">fbsplashr_tty_silent_cleanup()</a>, <a class="el" href="fbsplash_8h.html#af4032d0545772853477b2480040c66a7">fbsplashr_tty_silent_init()</a>, and <a class="el" href="fbsplash_8h.html#a63c4f6fdcbe4e565d55bf6e34180b79f">fbsplashr_tty_silent_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ab30ac56bdce1cde2a4eb03cd1875ecf6"></a><!-- doxytag: member="libfbsplash.c::fd_tty0" ref="ab30ac56bdce1cde2a4eb03cd1875ecf6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="libfbsplash_8c.html#ab30ac56bdce1cde2a4eb03cd1875ecf6">fd_tty0</a> = -1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a44abf54ca0294234f56fde171b2c52a1">fbsplash_is_silent()</a>, <a class="el" href="fbsplash_8h.html#ac4ab1f54cecb0a20e936fce2feccbed9">fbsplash_lib_cleanup()</a>, <a class="el" href="fbsplash_8h.html#a44f906a8793ed8bb61dd3cd40c77a530">fbsplash_lib_init()</a>, <a class="el" href="fbsplash_8h.html#a8f613607512314edeb1c1cea30e48f39">fbsplash_set_silent()</a>, and <a class="el" href="fbsplash_8h.html#ab93ba632a0715b1f949f5751c4d5ae55">fbsplash_set_verbose()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 24 2011 20:19:36 for splashutils by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
