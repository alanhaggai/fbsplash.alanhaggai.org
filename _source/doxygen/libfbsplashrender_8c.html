<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>splashutils: libfbsplashrender.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">splashutils&#160;<span id="projectnumber">1.5</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>libfbsplashrender.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/select.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;sys/ioctl.h&gt;</code><br/>
<code>#include &lt;sys/mman.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;termios.h&gt;</code><br/>
<code>#include &lt;linux/limits.h&gt;</code><br/>
<code>#include &lt;linux/input.h&gt;</code><br/>
<code>#include &quot;common.h&quot;</code><br/>
<code>#include &quot;render.h&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#ab0a3bb220ccae51098a92d9e10da85a8">INPUT_BASE</a>&#160;&#160;&#160;&quot;/sys/class/input&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a0da88037bb751030fff6df09983bdea5">INPUT_MAX</a>&#160;&#160;&#160;16</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a61998d2e31596fe9448fc212e1d9d565">fbsplashr_init</a> (bool create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a0799d81d1e8c0207bfc37365e9a62c9e">fbsplashr_input_init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a3dbb4c4d5b8a6f44cdbe6cbc92acab85">fbsplashr_input_cleanup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a1a76e15f041d2628889d9395694199c6">fbsplashr_input_getkey</a> (bool block)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a2b026ccb616bb24f8dc5b0d97ea26c2d">fbsplashr_cleanup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a65487e247bd4c2fc5f5b0ad950090cc9">fbsplashr_render_buf</a> (struct fbspl_theme *theme, void *buffer, bool repaint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#af73c7003107da5f924b481f4e8d08a58">fbsplashr_render_screen</a> (struct fbspl_theme *theme, bool repaint, bool bgnd, char effects)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct fbspl_theme *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#aad04ede6c603c86f8e1e747f188b445c">fbsplashr_theme_load</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#aa8287ad8828b7d5421a4278040fe493e">fbsplashr_theme_free</a> (struct fbspl_theme *theme)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#adf0e013a8001fb8d52dd7fc03adc3e76">fbsplashr_tty_silent_init</a> (bool clear)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a929c4730d58a2eb56ee1e4018f4fdf6b">fbsplashr_tty_silent_cleanup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a63c4f6fdcbe4e565d55bf6e34180b79f">fbsplashr_tty_silent_set</a> (int tty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a32067ce8fc5d9050eecc2ff49f5dae35">fbsplashr_tty_silent_update</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#af5a827703ff58cd95529d9c93d2ba7e0">fbsplashr_message_set</a> (struct fbspl_theme *theme, const char *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a0cfd5957cff10f7d5f781fc4c3727457">fbsplashr_progress_set</a> (struct fbspl_theme *theme, int progress)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#afaf3ca9bf06398a378434e02b6233a22">fd_fb</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#a15738f3872c9282ea7bd4cbf1dc22998">fb_mem</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a> [MAX_NR_CONSOLES]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct fb_data&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">sendian_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfbsplashrender_8c.html#ac4d09ea357013b042ff4e5790b73ccd9">endianess</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab0a3bb220ccae51098a92d9e10da85a8"></a><!-- doxytag: member="libfbsplashrender.c::INPUT_BASE" ref="ab0a3bb220ccae51098a92d9e10da85a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT_BASE&#160;&#160;&#160;&quot;/sys/class/input&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a0799d81d1e8c0207bfc37365e9a62c9e">fbsplashr_input_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0da88037bb751030fff6df09983bdea5"></a><!-- doxytag: member="libfbsplashrender.c::INPUT_MAX" ref="a0da88037bb751030fff6df09983bdea5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT_MAX&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a0799d81d1e8c0207bfc37365e9a62c9e">fbsplashr_input_init()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2b026ccb616bb24f8dc5b0d97ea26c2d"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_cleanup" ref="a2b026ccb616bb24f8dc5b0d97ea26c2d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplashr_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cleanup after <a class="el" href="libfbsplashrender_8c.html#a61998d2e31596fe9448fc212e1d9d565">fbsplashr_init()</a> and subsequent calls to any libsplashrender routines. </p>

<p>References <a class="el" href="libfbsplashrender_8c.html#a15738f3872c9282ea7bd4cbf1dc22998">fb_mem</a>, and <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>.</p>

</div>
</div>
<a class="anchor" id="a61998d2e31596fe9448fc212e1d9d565"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_init" ref="a61998d2e31596fe9448fc212e1d9d565" args="(bool create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_init </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Init the splashrender library.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">create</td><td>Create device nodes if they're missing. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplashrender_8c.html#ac4d09ea357013b042ff4e5790b73ccd9">endianess</a>, <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="a3dbb4c4d5b8a6f44cdbe6cbc92acab85"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_input_cleanup" ref="a3dbb4c4d5b8a6f44cdbe6cbc92acab85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplashr_input_cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clean up after <a class="el" href="libfbsplashrender_8c.html#a0799d81d1e8c0207bfc37365e9a62c9e">fbsplashr_input_init()</a>. </p>

</div>
</div>
<a class="anchor" id="a1a76e15f041d2628889d9395694199c6"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_input_getkey" ref="a1a76e15f041d2628889d9395694199c6" args="(bool block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short fbsplashr_input_getkey </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Wait for a keypress or check whether a key has been pressed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>If true, this function will block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Key code as defined in linux/input.h, 0 if no key has been pressed or an error occured. </dd></dl>

</div>
</div>
<a class="anchor" id="a0799d81d1e8c0207bfc37365e9a62c9e"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_input_init" ref="a0799d81d1e8c0207bfc37365e9a62c9e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_input_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the fbsplash input system.</p>
<p>The fbsplash input uses the Linux event device framework. It will not work if evdev isn't built into the kernel or compiled as a module and loaded prior to calling this function.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplashrender_8c.html#ab0a3bb220ccae51098a92d9e10da85a8">INPUT_BASE</a>, and <a class="el" href="libfbsplashrender_8c.html#a0da88037bb751030fff6df09983bdea5">INPUT_MAX</a>.</p>

</div>
</div>
<a class="anchor" id="af5a827703ff58cd95529d9c93d2ba7e0"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_message_set" ref="af5a827703ff58cd95529d9c93d2ba7e0" args="(struct fbspl_theme *theme, const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplashr_message_set </td>
          <td>(</td>
          <td class="paramtype">struct fbspl_theme *&#160;</td>
          <td class="paramname"><em>theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a new main message.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme descriptor. </td></tr>
    <tr><td class="paramname">msg</td><td>The new main message. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplash_8c.html#a9189faf8cc2150c7d824200da8adc51c">fbsplash_acc_message_set()</a>, and <a class="el" href="structfbspl__cfg__t.html#a6650f3929a67027215a94d018ebc40a9">fbspl_cfg_t::message</a>.</p>

</div>
</div>
<a class="anchor" id="a0cfd5957cff10f7d5f781fc4c3727457"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_progress_set" ref="a0cfd5957cff10f7d5f781fc4c3727457" args="(struct fbspl_theme *theme, int progress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplashr_progress_set </td>
          <td>(</td>
          <td class="paramtype">struct fbspl_theme *&#160;</td>
          <td class="paramname"><em>theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a new progress value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme descriptor. </td></tr>
    <tr><td class="paramname">progress</td><td>The new progress value. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="fbsplash_8h.html#ae50138683f51e5ab08cd8a5521ec5ba2">FBSPL_PROGRESS_MAX</a>, and <a class="el" href="structfbspl__cfg__t.html#ae58d5411bb05db7572c7d4feb11d7cb0">fbspl_cfg_t::progress</a>.</p>

</div>
</div>
<a class="anchor" id="a65487e247bd4c2fc5f5b0ad950090cc9"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_render_buf" ref="a65487e247bd4c2fc5f5b0ad950090cc9" args="(struct fbspl_theme *theme, void *buffer, bool repaint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_render_buf </td>
          <td>(</td>
          <td class="paramtype">struct fbspl_theme *&#160;</td>
          <td class="paramname"><em>theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repaint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Render the splash screen to a buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme for which the screen is to be rendered. </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer when the rendered image is to be stored. The image will be in the same format as that used by the fb device which handles the silent splash tty. The buffer should be long enough to contain the whole image (xres * yres * bytes per pixel) where xres and yres are the horizontal and vertical resolution of the current theme or of the video mode active on the framebuffer device. </td></tr>
    <tr><td class="paramname">repaint</td><td>The whole screen is rendered if true, only updated parts otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a>, and <a class="el" href="fbsplash_8h.html#acdaa446a6d89197b5612a10f87a6284f">FBSPL_MODE_SILENT</a>.</p>

<p>Referenced by <a class="el" href="fbsplash_8h.html#af73c7003107da5f924b481f4e8d08a58">fbsplashr_render_screen()</a>.</p>

</div>
</div>
<a class="anchor" id="af73c7003107da5f924b481f4e8d08a58"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_render_screen" ref="af73c7003107da5f924b481f4e8d08a58" args="(struct fbspl_theme *theme, bool repaint, bool bgnd, char effects)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_render_screen </td>
          <td>(</td>
          <td class="paramtype">struct fbspl_theme *&#160;</td>
          <td class="paramname"><em>theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repaint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bgnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>effects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Render the splash directly to the screen.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme for which the screen is to be rendered. </td></tr>
    <tr><td class="paramname">repaint</td><td>The whole screeen is rendered if true, only updated parts otherwise. </td></tr>
    <tr><td class="paramname">bgnd</td><td>Return immediately if true, wait for all effects to be rendered otherwise. Effects such as fadein/fadeout take some time to be fully displayed. If this parameter is set to true, they will be rendered from a separate, forked process. </td></tr>
    <tr><td class="paramname">effects</td><td>Indicates which effects are to be used to display the image. Valid values are constants prefixed with SPL_EFF_.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, a negative value otherwise. </dd></dl>

<p>References <a class="el" href="libfbsplashrender_8c.html#a15738f3872c9282ea7bd4cbf1dc22998">fb_mem</a>, <a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a>, <a class="el" href="fbsplash_8h.html#a2ddda5c96bb41e1d90f55bea0b2a6164">FBSPL_EFF_FADEIN</a>, <a class="el" href="fbsplash_8h.html#a339b21bc7cba6be326ce78a228b61ab7">FBSPL_EFF_FADEOUT</a>, <a class="el" href="libfbsplashrender_8c.html#a65487e247bd4c2fc5f5b0ad950090cc9">fbsplashr_render_buf()</a>, and <a class="el" href="libfbsplashrender_8c.html#afaf3ca9bf06398a378434e02b6233a22">fd_fb</a>.</p>

</div>
</div>
<a class="anchor" id="aa8287ad8828b7d5421a4278040fe493e"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_theme_free" ref="aa8287ad8828b7d5421a4278040fe493e" args="(struct fbspl_theme *theme)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fbsplashr_theme_free </td>
          <td>(</td>
          <td class="paramtype">struct fbspl_theme *&#160;</td>
          <td class="paramname"><em>theme</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Free a theme descriptor struct returned by <a class="el" href="libfbsplashrender_8c.html#aad04ede6c603c86f8e1e747f188b445c">fbsplashr_theme_load()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">theme</td><td>Theme descriptor to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad04ede6c603c86f8e1e747f188b445c"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_theme_load" ref="aad04ede6c603c86f8e1e747f188b445c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fbspl_theme* fbsplashr_theme_load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Load a splash theme specified by config.theme.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a theme descriptor, which is then passed to any libfbsplashrender functions. </dd></dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a>, <a class="el" href="fbsplash_8h.html#acdaa446a6d89197b5612a10f87a6284f">FBSPL_MODE_SILENT</a>, <a class="el" href="fbsplash_8h.html#a12ece9159f0153bdbb4951377b2259c2">FBSPL_MODE_VERBOSE</a>, <a class="el" href="fbsplash_8h.html#a9f97a1f214b59a6ddb9e9282438cb662">FBSPL_THEME_DIR</a>, <a class="el" href="libfbsplash_8c.html#a1cc46c7c759f9d2f7d324b9ceea5e22b">fbsplash_get_res()</a>, <a class="el" href="structfbspl__cfg__t.html#a3096d649092bd94ba52690bfacccfde4">fbspl_cfg_t::reqmode</a>, and <a class="el" href="structfbspl__cfg__t.html#a93d99ab917b30a3bf0e8f9f4c5209875">fbspl_cfg_t::theme</a>.</p>

</div>
</div>
<a class="anchor" id="a929c4730d58a2eb56ee1e4018f4fdf6b"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_tty_silent_cleanup" ref="a929c4730d58a2eb56ee1e4018f4fdf6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_tty_silent_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restore the silent tty to its previous settings after a call to <a class="el" href="libfbsplashrender_8c.html#adf0e013a8001fb8d52dd7fc03adc3e76">fbsplashr_tty_silent_init()</a>. </p>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="adf0e013a8001fb8d52dd7fc03adc3e76"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_tty_silent_init" ref="adf0e013a8001fb8d52dd7fc03adc3e76" args="(bool clear)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_tty_silent_init </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prepare the silent tty (config.tty_s) for displaying the silent splash screen.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">clear</td><td>If true, the silent tty will be cleared from any text it might contain. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="a63c4f6fdcbe4e565d55bf6e34180b79f"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_tty_silent_set" ref="a63c4f6fdcbe4e565d55bf6e34180b79f" args="(int tty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_tty_silent_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a new silent tty.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tty</td><td>The new silent tty. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="libfbsplash_8c.html#adb73d26edf280e0b235a85ef93463942">config</a>, <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>, and <a class="el" href="structfbspl__cfg__t.html#ae31e5d80ce911a6310319f9a2158a61d">fbspl_cfg_t::tty_s</a>.</p>

</div>
</div>
<a class="anchor" id="a32067ce8fc5d9050eecc2ff49f5dae35"></a><!-- doxytag: member="libfbsplashrender.c::fbsplashr_tty_silent_update" ref="a32067ce8fc5d9050eecc2ff49f5dae35" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fbsplashr_tty_silent_update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update all internal settings related to the silent tty.</p>
<p>To be called when switching to the silent tty.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if all settings have been updated, 1 if the theme has to be reloaded. </dd></dl>

<p>References <a class="el" href="libfbsplashrender_8c.html#a15738f3872c9282ea7bd4cbf1dc22998">fb_mem</a>, <a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a>, and <a class="el" href="libfbsplashrender_8c.html#afaf3ca9bf06398a378434e02b6233a22">fd_fb</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ac4d09ea357013b042ff4e5790b73ccd9"></a><!-- doxytag: member="libfbsplashrender.c::endianess" ref="ac4d09ea357013b042ff4e5790b73ccd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendian_t <a class="el" href="libfbsplashrender_8c.html#ac4d09ea357013b042ff4e5790b73ccd9">endianess</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a61998d2e31596fe9448fc212e1d9d565">fbsplashr_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a15738f3872c9282ea7bd4cbf1dc22998"></a><!-- doxytag: member="libfbsplashrender.c::fb_mem" ref="a15738f3872c9282ea7bd4cbf1dc22998" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8* <a class="el" href="libfbsplashrender_8c.html#a15738f3872c9282ea7bd4cbf1dc22998">fb_mem</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a2cd7d7187049daf4e2b5733aea3d7927">fbsplashr_cleanup()</a>, <a class="el" href="fbsplash_8h.html#af73c7003107da5f924b481f4e8d08a58">fbsplashr_render_screen()</a>, and <a class="el" href="fbsplash_8h.html#ab21265f8be525f7e062eb40c04b7a949">fbsplashr_tty_silent_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9b1c9c5a8823e083a981f46e9cabcbd"></a><!-- doxytag: member="libfbsplashrender.c::fbd" ref="ac9b1c9c5a8823e083a981f46e9cabcbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fb_data <a class="el" href="libfbsplashrender_8c.html#ac9b1c9c5a8823e083a981f46e9cabcbd">fbd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a65487e247bd4c2fc5f5b0ad950090cc9">fbsplashr_render_buf()</a>, <a class="el" href="fbsplash_8h.html#af73c7003107da5f924b481f4e8d08a58">fbsplashr_render_screen()</a>, <a class="el" href="fbsplash_8h.html#aad04ede6c603c86f8e1e747f188b445c">fbsplashr_theme_load()</a>, and <a class="el" href="fbsplash_8h.html#ab21265f8be525f7e062eb40c04b7a949">fbsplashr_tty_silent_update()</a>.</p>

</div>
</div>
<a class="anchor" id="afaf3ca9bf06398a378434e02b6233a22"></a><!-- doxytag: member="libfbsplashrender.c::fd_fb" ref="afaf3ca9bf06398a378434e02b6233a22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="libfbsplashrender_8c.html#afaf3ca9bf06398a378434e02b6233a22">fd_fb</a> = -1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#af73c7003107da5f924b481f4e8d08a58">fbsplashr_render_screen()</a>, and <a class="el" href="fbsplash_8h.html#ab21265f8be525f7e062eb40c04b7a949">fbsplashr_tty_silent_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7151e4c786ea7843f1bec97d6b124b1"></a><!-- doxytag: member="libfbsplashrender.c::fd_tty" ref="ae7151e4c786ea7843f1bec97d6b124b1" args="[MAX_NR_CONSOLES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="libfbsplashrender_8c.html#ae7151e4c786ea7843f1bec97d6b124b1">fd_tty</a>[MAX_NR_CONSOLES]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="fbsplash_8h.html#a2cd7d7187049daf4e2b5733aea3d7927">fbsplashr_cleanup()</a>, <a class="el" href="fbsplash_8h.html#a61998d2e31596fe9448fc212e1d9d565">fbsplashr_init()</a>, <a class="el" href="fbsplash_8h.html#a4861918d50f2d3a520937482680f9eeb">fbsplashr_tty_silent_cleanup()</a>, <a class="el" href="fbsplash_8h.html#af4032d0545772853477b2480040c66a7">fbsplashr_tty_silent_init()</a>, and <a class="el" href="fbsplash_8h.html#a63c4f6fdcbe4e565d55bf6e34180b79f">fbsplashr_tty_silent_set()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 24 2011 20:19:36 for splashutils by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
